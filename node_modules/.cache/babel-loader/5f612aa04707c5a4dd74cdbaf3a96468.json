{"ast":null,"code":"function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from 'lodash/debounce';\nimport Preview from 'rsg-components/Preview';\nimport Para from 'rsg-components/Para';\nimport Slot from 'rsg-components/Slot';\nimport PlaygroundRenderer from 'rsg-components/Playground/PlaygroundRenderer';\nimport Context from 'rsg-components/Context';\nimport { EXAMPLE_TAB_CODE_EDITOR } from '../slots';\nimport { DisplayModes, ExampleModes } from '../../consts';\n\nvar Playground =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Playground, _Component);\n\n  function Playground() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", debounce(function (code) {\n      _this.setState({\n        code: code\n      });\n    }, _this.context.config.previewDelay));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      code: _this.props.code,\n      prevCode: _this.props.code,\n      activeTab: _this.getInitialActiveTab() ? EXAMPLE_TAB_CODE_EDITOR : undefined\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTabChange\", function (name) {\n      _this.setState(function (state) {\n        return {\n          activeTab: state.activeTab !== name ? name : undefined\n        };\n      });\n    });\n\n    return _this;\n  }\n\n  Playground.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var code = nextProps.code;\n\n    if (prevState.prevCode !== code) {\n      return {\n        prevCode: code,\n        code: code\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = Playground.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    // Clear pending changes\n    this.handleChange.cancel();\n  };\n\n  _proto.getInitialActiveTab = function getInitialActiveTab() {\n    var expandCode = this.props.exampleMode === ExampleModes.expand;\n    return this.props.settings.showcode !== undefined ? this.props.settings.showcode : expandCode;\n  };\n\n  _proto.render = function render() {\n    var _this$state = this.state,\n        code = _this$state.code,\n        activeTab = _this$state.activeTab;\n    var _this$props = this.props,\n        evalInContext = _this$props.evalInContext,\n        index = _this$props.index,\n        name = _this$props.name,\n        settings = _this$props.settings,\n        exampleMode = _this$props.exampleMode;\n    var displayMode = this.context.displayMode;\n    var isExampleHidden = exampleMode === ExampleModes.hide;\n    var isEditorHidden = settings.noeditor || isExampleHidden;\n    var preview = React.createElement(Preview, {\n      code: code,\n      evalInContext: evalInContext\n    });\n    return isEditorHidden ? React.createElement(Para, null, preview) : React.createElement(PlaygroundRenderer, {\n      name: name,\n      exampleIndex: index,\n      padded: !!settings.padded,\n      preview: preview,\n      previewProps: settings.props || {},\n      tabButtons: React.createElement(Slot, {\n        name: \"exampleTabButtons\",\n        active: activeTab,\n        props: {\n          onClick: this.handleTabChange\n        }\n      }),\n      tabBody: React.createElement(Slot, {\n        name: \"exampleTabs\",\n        active: activeTab,\n        onlyActive: true // evalInContext passed through to support custom slots that eval code\n        ,\n        props: {\n          code: code,\n          onChange: this.handleChange,\n          evalInContext: evalInContext\n        }\n      }),\n      toolbar: React.createElement(Slot, {\n        name: \"exampleToolbar\",\n        props: {\n          name: name,\n          isolated: displayMode === DisplayModes.example,\n          example: index\n        }\n      })\n    });\n  };\n\n  return Playground;\n}(Component);\n\n_defineProperty(Playground, \"propTypes\", {\n  code: PropTypes.string.isRequired,\n  evalInContext: PropTypes.func.isRequired,\n  index: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  exampleMode: PropTypes.string.isRequired,\n  settings: PropTypes.object\n});\n\n_defineProperty(Playground, \"defaultProps\", {\n  settings: {}\n});\n\n_defineProperty(Playground, \"contextType\", Context);\n\nexport default Playground;","map":{"version":3,"sources":["/Users/bmarshall/react-library/node_modules/react-styleguidist/lib/client/rsg-components/Playground/Playground.js"],"names":["_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","React","Component","PropTypes","debounce","Preview","Para","Slot","PlaygroundRenderer","Context","EXAMPLE_TAB_CODE_EDITOR","DisplayModes","ExampleModes","Playground","_Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","code","setState","context","config","previewDelay","props","prevCode","activeTab","getInitialActiveTab","undefined","name","state","getDerivedStateFromProps","nextProps","prevState","_proto","componentWillUnmount","handleChange","cancel","expandCode","exampleMode","expand","settings","showcode","render","_this$state","_this$props","evalInContext","index","displayMode","isExampleHidden","hide","isEditorHidden","noeditor","preview","createElement","exampleIndex","padded","previewProps","tabButtons","active","onClick","handleTabChange","tabBody","onlyActive","onChange","toolbar","isolated","example","string","isRequired","func","number","object"],"mappings":"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","sourcesContent":["import \"core-js/modules/es.array.concat\";\nimport \"core-js/modules/es.function.name\";\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from 'lodash/debounce';\nimport Preview from 'rsg-components/Preview';\nimport Para from 'rsg-components/Para';\nimport Slot from 'rsg-components/Slot';\nimport PlaygroundRenderer from 'rsg-components/Playground/PlaygroundRenderer';\nimport Context from 'rsg-components/Context';\nimport { EXAMPLE_TAB_CODE_EDITOR } from '../slots';\nimport { DisplayModes, ExampleModes } from '../../consts';\n\nvar Playground =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Playground, _Component);\n\n  function Playground() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", debounce(function (code) {\n      _this.setState({\n        code: code\n      });\n    }, _this.context.config.previewDelay));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      code: _this.props.code,\n      prevCode: _this.props.code,\n      activeTab: _this.getInitialActiveTab() ? EXAMPLE_TAB_CODE_EDITOR : undefined\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTabChange\", function (name) {\n      _this.setState(function (state) {\n        return {\n          activeTab: state.activeTab !== name ? name : undefined\n        };\n      });\n    });\n\n    return _this;\n  }\n\n  Playground.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var code = nextProps.code;\n\n    if (prevState.prevCode !== code) {\n      return {\n        prevCode: code,\n        code: code\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = Playground.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    // Clear pending changes\n    this.handleChange.cancel();\n  };\n\n  _proto.getInitialActiveTab = function getInitialActiveTab() {\n    var expandCode = this.props.exampleMode === ExampleModes.expand;\n    return this.props.settings.showcode !== undefined ? this.props.settings.showcode : expandCode;\n  };\n\n  _proto.render = function render() {\n    var _this$state = this.state,\n        code = _this$state.code,\n        activeTab = _this$state.activeTab;\n    var _this$props = this.props,\n        evalInContext = _this$props.evalInContext,\n        index = _this$props.index,\n        name = _this$props.name,\n        settings = _this$props.settings,\n        exampleMode = _this$props.exampleMode;\n    var displayMode = this.context.displayMode;\n    var isExampleHidden = exampleMode === ExampleModes.hide;\n    var isEditorHidden = settings.noeditor || isExampleHidden;\n    var preview = React.createElement(Preview, {\n      code: code,\n      evalInContext: evalInContext\n    });\n    return isEditorHidden ? React.createElement(Para, null, preview) : React.createElement(PlaygroundRenderer, {\n      name: name,\n      exampleIndex: index,\n      padded: !!settings.padded,\n      preview: preview,\n      previewProps: settings.props || {},\n      tabButtons: React.createElement(Slot, {\n        name: \"exampleTabButtons\",\n        active: activeTab,\n        props: {\n          onClick: this.handleTabChange\n        }\n      }),\n      tabBody: React.createElement(Slot, {\n        name: \"exampleTabs\",\n        active: activeTab,\n        onlyActive: true // evalInContext passed through to support custom slots that eval code\n        ,\n        props: {\n          code: code,\n          onChange: this.handleChange,\n          evalInContext: evalInContext\n        }\n      }),\n      toolbar: React.createElement(Slot, {\n        name: \"exampleToolbar\",\n        props: {\n          name: name,\n          isolated: displayMode === DisplayModes.example,\n          example: index\n        }\n      })\n    });\n  };\n\n  return Playground;\n}(Component);\n\n_defineProperty(Playground, \"propTypes\", {\n  code: PropTypes.string.isRequired,\n  evalInContext: PropTypes.func.isRequired,\n  index: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  exampleMode: PropTypes.string.isRequired,\n  settings: PropTypes.object\n});\n\n_defineProperty(Playground, \"defaultProps\", {\n  settings: {}\n});\n\n_defineProperty(Playground, \"contextType\", Context);\n\nexport default Playground;"]},"metadata":{},"sourceType":"module"}