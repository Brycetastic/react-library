{"ast":null,"code":"function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Wrapper from 'rsg-components/Wrapper';\nimport compileCode from '../../utils/compileCode';\nimport splitExampleCode from '../../utils/splitExampleCode';\n/* eslint-disable react/no-multi-comp */\n// Wrap the example component with a Functional Component to support\n// hooks in examples\n\nfunction FunctionComponentWrapper(props) {\n  var component = props.component,\n      state = props.state,\n      setState = props.setState; // Return null when component doesn't render anything to avoid an error\n\n  return component(state, setState) || null;\n} // Wrap everything in a React component to leverage the state management\n// of this component\n\n\nvar StateHolder =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(StateHolder, _Component);\n\n  function StateHolder() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", _this.props.initialState);\n\n    _defineProperty(_assertThisInitialized(_this), \"setStateBinded\", _this.setState.bind(_assertThisInitialized(_this)));\n\n    return _this;\n  }\n\n  var _proto = StateHolder.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(FunctionComponentWrapper, {\n      component: this.props.component,\n      state: this.state,\n      setState: this.setStateBinded\n    });\n  };\n\n  return StateHolder;\n}(Component);\n\n_defineProperty(StateHolder, \"propTypes\", {\n  component: PropTypes.func.isRequired,\n  initialState: PropTypes.object.isRequired\n});\n\nvar ReactExample =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inheritsLoose(ReactExample, _Component2);\n\n  function ReactExample() {\n    return _Component2.apply(this, arguments) || this;\n  }\n\n  var _proto2 = ReactExample.prototype;\n\n  _proto2.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return this.props.code !== nextProps.code;\n  } // Eval the code to extract the value of the initial state\n  ;\n\n  _proto2.getExampleInitialState = function getExampleInitialState(compiledCode) {\n    if (compiledCode.indexOf('initialState') === -1) {\n      return {};\n    }\n\n    return this.props.evalInContext(\"\\n\\t\\t\\tvar state = {}, initialState = {};\\n\\t\\t\\ttry {\\n\\t\\t\\t\\t\" + compiledCode + \";\\n\\t\\t\\t} catch (err) {}\\n\\t\\t\\treturn initialState;\\n\\t\\t\")();\n  } // Run example code and return the last top-level expression\n  ;\n\n  _proto2.getExampleComponent = function getExampleComponent(compiledCode) {\n    return this.props.evalInContext(\"\\n\\t\\t\\tvar initialState = {};\\n\\t\\t\\t\" + compiledCode + \"\\n\\t\\t\");\n  };\n\n  _proto2.render = function render() {\n    var _this$props = this.props,\n        code = _this$props.code,\n        _this$props$compilerC = _this$props.compilerConfig,\n        compilerConfig = _this$props$compilerC === void 0 ? {} : _this$props$compilerC,\n        onError = _this$props.onError;\n    var compiledCode = compileCode(code, compilerConfig, onError);\n\n    if (!compiledCode) {\n      return null;\n    }\n\n    var _splitExampleCode = splitExampleCode(compiledCode),\n        head = _splitExampleCode.head,\n        example = _splitExampleCode.example;\n\n    var initialState = this.getExampleInitialState(head);\n    var exampleComponent = this.getExampleComponent(example);\n    var wrappedComponent = React.createElement(Wrapper, {\n      onError: onError\n    }, React.createElement(StateHolder, {\n      component: exampleComponent,\n      initialState: initialState\n    }));\n    return wrappedComponent;\n  };\n\n  return ReactExample;\n}(Component);\n\n_defineProperty(ReactExample, \"propTypes\", {\n  code: PropTypes.string.isRequired,\n  evalInContext: PropTypes.func.isRequired,\n  onError: PropTypes.func.isRequired,\n  compilerConfig: PropTypes.object\n});\n\nexport { ReactExample as default };","map":{"version":3,"sources":["/Users/bmarshall/react-library/node_modules/react-styleguidist/lib/client/rsg-components/ReactExample/ReactExample.js"],"names":["_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","React","Component","PropTypes","Wrapper","compileCode","splitExampleCode","FunctionComponentWrapper","props","component","state","setState","StateHolder","_Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","initialState","bind","_proto","render","createElement","setStateBinded","func","isRequired","object","ReactExample","_Component2","_proto2","shouldComponentUpdate","nextProps","code","getExampleInitialState","compiledCode","indexOf","evalInContext","getExampleComponent","_this$props","_this$props$compilerC","compilerConfig","onError","_splitExampleCode","head","example","exampleComponent","wrappedComponent","string","default"],"mappings":"AAEA,SAASA,sBAAT,CAAgCC,IAAhC,EAAsC;AAAE,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOD,IAAP;AAAc;;AAEtK,SAASE,cAAT,CAAwBC,QAAxB,EAAkCC,UAAlC,EAA8C;AAAED,EAAAA,QAAQ,CAACE,SAAT,GAAqBC,MAAM,CAACC,MAAP,CAAcH,UAAU,CAACC,SAAzB,CAArB;AAA0DF,EAAAA,QAAQ,CAACE,SAAT,CAAmBG,WAAnB,GAAiCL,QAAjC;AAA2CA,EAAAA,QAAQ,CAACM,SAAT,GAAqBL,UAArB;AAAkC;;AAEvL,SAASM,eAAT,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmCC,KAAnC,EAA0C;AAAE,MAAID,GAAG,IAAID,GAAX,EAAgB;AAAEL,IAAAA,MAAM,CAACQ,cAAP,CAAsBH,GAAtB,EAA2BC,GAA3B,EAAgC;AAAEC,MAAAA,KAAK,EAAEA,KAAT;AAAgBE,MAAAA,UAAU,EAAE,IAA5B;AAAkCC,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEN,IAAAA,GAAG,CAACC,GAAD,CAAH,GAAWC,KAAX;AAAmB;;AAAC,SAAOF,GAAP;AAAa;;AAEjN,OAAOO,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,gBAAP,MAA6B,8BAA7B;AACA;AACA;AACA;;AAEA,SAASC,wBAAT,CAAkCC,KAAlC,EAAyC;AACvC,MAAIC,SAAS,GAAGD,KAAK,CAACC,SAAtB;AAAA,MACIC,KAAK,GAAGF,KAAK,CAACE,KADlB;AAAA,MAEIC,QAAQ,GAAGH,KAAK,CAACG,QAFrB,CADuC,CAGR;;AAE/B,SAAOF,SAAS,CAACC,KAAD,EAAQC,QAAR,CAAT,IAA8B,IAArC;AACD,C,CAED;AACA;;;AACA,IAAIC,WAAW;AACf;AACA,UAAUC,UAAV,EAAsB;AACpB5B,EAAAA,cAAc,CAAC2B,WAAD,EAAcC,UAAd,CAAd;;AAEA,WAASD,WAAT,GAAuB;AACrB,QAAIE,KAAJ;;AAEA,SAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAG,IAAIC,KAAJ,CAAUJ,IAAV,CAApC,EAAqDK,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGL,IAA3E,EAAiFK,IAAI,EAArF,EAAyF;AACvFF,MAAAA,IAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;AACD;;AAEDN,IAAAA,KAAK,GAAGD,UAAU,CAACQ,IAAX,CAAgBC,KAAhB,CAAsBT,UAAtB,EAAkC,CAAC,IAAD,EAAOU,MAAP,CAAcL,IAAd,CAAlC,KAA0D,IAAlE;;AAEAzB,IAAAA,eAAe,CAACX,sBAAsB,CAACgC,KAAD,CAAvB,EAAgC,OAAhC,EAAyCA,KAAK,CAACN,KAAN,CAAYgB,YAArD,CAAf;;AAEA/B,IAAAA,eAAe,CAACX,sBAAsB,CAACgC,KAAD,CAAvB,EAAgC,gBAAhC,EAAkDA,KAAK,CAACH,QAAN,CAAec,IAAf,CAAoB3C,sBAAsB,CAACgC,KAAD,CAA1C,CAAlD,CAAf;;AAEA,WAAOA,KAAP;AACD;;AAED,MAAIY,MAAM,GAAGd,WAAW,CAACxB,SAAzB;;AAEAsC,EAAAA,MAAM,CAACC,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,WAAO1B,KAAK,CAAC2B,aAAN,CAAoBrB,wBAApB,EAA8C;AACnDE,MAAAA,SAAS,EAAE,KAAKD,KAAL,CAAWC,SAD6B;AAEnDC,MAAAA,KAAK,EAAE,KAAKA,KAFuC;AAGnDC,MAAAA,QAAQ,EAAE,KAAKkB;AAHoC,KAA9C,CAAP;AAKD,GAND;;AAQA,SAAOjB,WAAP;AACD,CA9BD,CA8BEV,SA9BF,CAFA;;AAkCAT,eAAe,CAACmB,WAAD,EAAc,WAAd,EAA2B;AACxCH,EAAAA,SAAS,EAAEN,SAAS,CAAC2B,IAAV,CAAeC,UADc;AAExCP,EAAAA,YAAY,EAAErB,SAAS,CAAC6B,MAAV,CAAiBD;AAFS,CAA3B,CAAf;;AAKA,IAAIE,YAAY;AAChB;AACA,UAAUC,WAAV,EAAuB;AACrBjD,EAAAA,cAAc,CAACgD,YAAD,EAAeC,WAAf,CAAd;;AAEA,WAASD,YAAT,GAAwB;AACtB,WAAOC,WAAW,CAACZ,KAAZ,CAAkB,IAAlB,EAAwBN,SAAxB,KAAsC,IAA7C;AACD;;AAED,MAAImB,OAAO,GAAGF,YAAY,CAAC7C,SAA3B;;AAEA+C,EAAAA,OAAO,CAACC,qBAAR,GAAgC,SAASA,qBAAT,CAA+BC,SAA/B,EAA0C;AACxE,WAAO,KAAK7B,KAAL,CAAW8B,IAAX,KAAoBD,SAAS,CAACC,IAArC;AACD,GAFD,CAEE;AAFF;;AAKAH,EAAAA,OAAO,CAACI,sBAAR,GAAiC,SAASA,sBAAT,CAAgCC,YAAhC,EAA8C;AAC7E,QAAIA,YAAY,CAACC,OAAb,CAAqB,cAArB,MAAyC,CAAC,CAA9C,EAAiD;AAC/C,aAAO,EAAP;AACD;;AAED,WAAO,KAAKjC,KAAL,CAAWkC,aAAX,CAAyB,sEAAsEF,YAAtE,GAAqF,6DAA9G,GAAP;AACD,GAND,CAME;AANF;;AASAL,EAAAA,OAAO,CAACQ,mBAAR,GAA8B,SAASA,mBAAT,CAA6BH,YAA7B,EAA2C;AACvE,WAAO,KAAKhC,KAAL,CAAWkC,aAAX,CAAyB,2CAA2CF,YAA3C,GAA0D,QAAnF,CAAP;AACD,GAFD;;AAIAL,EAAAA,OAAO,CAACR,MAAR,GAAiB,SAASA,MAAT,GAAkB;AACjC,QAAIiB,WAAW,GAAG,KAAKpC,KAAvB;AAAA,QACI8B,IAAI,GAAGM,WAAW,CAACN,IADvB;AAAA,QAEIO,qBAAqB,GAAGD,WAAW,CAACE,cAFxC;AAAA,QAGIA,cAAc,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,EAAnC,GAAwCA,qBAH7D;AAAA,QAIIE,OAAO,GAAGH,WAAW,CAACG,OAJ1B;AAKA,QAAIP,YAAY,GAAGnC,WAAW,CAACiC,IAAD,EAAOQ,cAAP,EAAuBC,OAAvB,CAA9B;;AAEA,QAAI,CAACP,YAAL,EAAmB;AACjB,aAAO,IAAP;AACD;;AAED,QAAIQ,iBAAiB,GAAG1C,gBAAgB,CAACkC,YAAD,CAAxC;AAAA,QACIS,IAAI,GAAGD,iBAAiB,CAACC,IAD7B;AAAA,QAEIC,OAAO,GAAGF,iBAAiB,CAACE,OAFhC;;AAIA,QAAI1B,YAAY,GAAG,KAAKe,sBAAL,CAA4BU,IAA5B,CAAnB;AACA,QAAIE,gBAAgB,GAAG,KAAKR,mBAAL,CAAyBO,OAAzB,CAAvB;AACA,QAAIE,gBAAgB,GAAGnD,KAAK,CAAC2B,aAAN,CAAoBxB,OAApB,EAA6B;AAClD2C,MAAAA,OAAO,EAAEA;AADyC,KAA7B,EAEpB9C,KAAK,CAAC2B,aAAN,CAAoBhB,WAApB,EAAiC;AAClCH,MAAAA,SAAS,EAAE0C,gBADuB;AAElC3B,MAAAA,YAAY,EAAEA;AAFoB,KAAjC,CAFoB,CAAvB;AAMA,WAAO4B,gBAAP;AACD,GAzBD;;AA2BA,SAAOnB,YAAP;AACD,CAvDD,CAuDE/B,SAvDF,CAFA;;AA2DAT,eAAe,CAACwC,YAAD,EAAe,WAAf,EAA4B;AACzCK,EAAAA,IAAI,EAAEnC,SAAS,CAACkD,MAAV,CAAiBtB,UADkB;AAEzCW,EAAAA,aAAa,EAAEvC,SAAS,CAAC2B,IAAV,CAAeC,UAFW;AAGzCgB,EAAAA,OAAO,EAAE5C,SAAS,CAAC2B,IAAV,CAAeC,UAHiB;AAIzCe,EAAAA,cAAc,EAAE3C,SAAS,CAAC6B;AAJe,CAA5B,CAAf;;AAOA,SAASC,YAAY,IAAIqB,OAAzB","sourcesContent":["import \"core-js/modules/es.array.concat\";\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Wrapper from 'rsg-components/Wrapper';\nimport compileCode from '../../utils/compileCode';\nimport splitExampleCode from '../../utils/splitExampleCode';\n/* eslint-disable react/no-multi-comp */\n// Wrap the example component with a Functional Component to support\n// hooks in examples\n\nfunction FunctionComponentWrapper(props) {\n  var component = props.component,\n      state = props.state,\n      setState = props.setState; // Return null when component doesn't render anything to avoid an error\n\n  return component(state, setState) || null;\n}\n\n// Wrap everything in a React component to leverage the state management\n// of this component\nvar StateHolder =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(StateHolder, _Component);\n\n  function StateHolder() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", _this.props.initialState);\n\n    _defineProperty(_assertThisInitialized(_this), \"setStateBinded\", _this.setState.bind(_assertThisInitialized(_this)));\n\n    return _this;\n  }\n\n  var _proto = StateHolder.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(FunctionComponentWrapper, {\n      component: this.props.component,\n      state: this.state,\n      setState: this.setStateBinded\n    });\n  };\n\n  return StateHolder;\n}(Component);\n\n_defineProperty(StateHolder, \"propTypes\", {\n  component: PropTypes.func.isRequired,\n  initialState: PropTypes.object.isRequired\n});\n\nvar ReactExample =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inheritsLoose(ReactExample, _Component2);\n\n  function ReactExample() {\n    return _Component2.apply(this, arguments) || this;\n  }\n\n  var _proto2 = ReactExample.prototype;\n\n  _proto2.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return this.props.code !== nextProps.code;\n  } // Eval the code to extract the value of the initial state\n  ;\n\n  _proto2.getExampleInitialState = function getExampleInitialState(compiledCode) {\n    if (compiledCode.indexOf('initialState') === -1) {\n      return {};\n    }\n\n    return this.props.evalInContext(\"\\n\\t\\t\\tvar state = {}, initialState = {};\\n\\t\\t\\ttry {\\n\\t\\t\\t\\t\" + compiledCode + \";\\n\\t\\t\\t} catch (err) {}\\n\\t\\t\\treturn initialState;\\n\\t\\t\")();\n  } // Run example code and return the last top-level expression\n  ;\n\n  _proto2.getExampleComponent = function getExampleComponent(compiledCode) {\n    return this.props.evalInContext(\"\\n\\t\\t\\tvar initialState = {};\\n\\t\\t\\t\" + compiledCode + \"\\n\\t\\t\");\n  };\n\n  _proto2.render = function render() {\n    var _this$props = this.props,\n        code = _this$props.code,\n        _this$props$compilerC = _this$props.compilerConfig,\n        compilerConfig = _this$props$compilerC === void 0 ? {} : _this$props$compilerC,\n        onError = _this$props.onError;\n    var compiledCode = compileCode(code, compilerConfig, onError);\n\n    if (!compiledCode) {\n      return null;\n    }\n\n    var _splitExampleCode = splitExampleCode(compiledCode),\n        head = _splitExampleCode.head,\n        example = _splitExampleCode.example;\n\n    var initialState = this.getExampleInitialState(head);\n    var exampleComponent = this.getExampleComponent(example);\n    var wrappedComponent = React.createElement(Wrapper, {\n      onError: onError\n    }, React.createElement(StateHolder, {\n      component: exampleComponent,\n      initialState: initialState\n    }));\n    return wrappedComponent;\n  };\n\n  return ReactExample;\n}(Component);\n\n_defineProperty(ReactExample, \"propTypes\", {\n  code: PropTypes.string.isRequired,\n  evalInContext: PropTypes.func.isRequired,\n  onError: PropTypes.func.isRequired,\n  compilerConfig: PropTypes.object\n});\n\nexport { ReactExample as default };"]},"metadata":{},"sourceType":"module"}